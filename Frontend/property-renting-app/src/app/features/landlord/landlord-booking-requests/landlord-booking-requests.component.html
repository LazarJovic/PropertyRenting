<div id="box-div">
  <div id="container-div">
    <div id="content-div">
      <mat-tab-group mat-align-tabs="center" #childTabs>
        <mat-tab>
          <ng-template mat-tab-label>
            <p>Pending</p>
          </ng-template>
          <div class="entity-div">
            <h5>List of your pending booking requests</h5>
            <table
              mat-table
              [dataSource]="dataSourcePending"
              class="mat-elevation-z8"
            >
              <ng-container matColumnDef="location">
                <th mat-header-cell *matHeaderCellDef>Property location</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.address }}, {{ request.city }},
                  {{ request.country }}
                </td>
              </ng-container>

              <ng-container matColumnDef="pendingDateTime">
                <th mat-header-cell *matHeaderCellDef>Pending from</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.pendingDateTime }}
                </td>
              </ng-container>

              <ng-container matColumnDef="bookingStart">
                <th mat-header-cell *matHeaderCellDef>Booking start</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.bookingStart }}
                </td>
              </ng-container>

              <ng-container matColumnDef="bookingEnd">
                <th mat-header-cell *matHeaderCellDef>Booking end</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.bookingEnd }}
                </td>
              </ng-container>

              <ng-container matColumnDef="clientEmail">
                <th mat-header-cell *matHeaderCellDef>Tenant</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.clientEmail }}
                </td>
              </ng-container>

              <ng-container matColumnDef="btnDetails">
                <th mat-header-cell *matHeaderCellDef>Details</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="details-btn"
                    matTooltip="Details"
                    (click)="requestDetails(request)"
                  >
                    Details
                  </button>
                </td>
              </ng-container>

              <ng-container matColumnDef="btnAccept">
                <th mat-header-cell *matHeaderCellDef>Accept</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="accept-btn"
                    matTooltip="Accept booking request"
                    (click)="accept(request)"
                  >
                    Accept
                  </button>
                </td>
              </ng-container>

              <ng-container matColumnDef="btnDeny">
                <th mat-header-cell *matHeaderCellDef>Deny</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="deny-btn"
                    matTooltip="Deny booking request"
                    (click)="deny(request)"
                  >
                    Deny
                  </button>
                </td>
              </ng-container>

              <tr
                mat-header-row
                *matHeaderRowDef="displayedColumnsPending"
              ></tr>
              <tr
                mat-row
                *matRowDef="let row; columns: displayedColumnsPending"
              ></tr>
            </table>
          </div>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <p>Reserved</p>
          </ng-template>
          <div class="entity-div">
            <h5>List of your reserved booking requests</h5>
            <table
              mat-table
              [dataSource]="dataSourceReserved"
              class="mat-elevation-z8"
            >
              <ng-container matColumnDef="location">
                <th mat-header-cell *matHeaderCellDef>Property location</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.address }}, {{ request.city }},
                  {{ request.country }}
                </td>
              </ng-container>

              <ng-container matColumnDef="acceptanceDateTime">
                <th mat-header-cell *matHeaderCellDef>Acceptance date/time</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.acceptanceDateTime }}
                </td>
              </ng-container>

              <ng-container matColumnDef="bookingStart">
                <th mat-header-cell *matHeaderCellDef>Booking start</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.bookingStart }}
                </td>
              </ng-container>

              <ng-container matColumnDef="bookingEnd">
                <th mat-header-cell *matHeaderCellDef>Booking end</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.bookingEnd }}
                </td>
              </ng-container>

              <ng-container matColumnDef="pricePerNight">
                <th mat-header-cell *matHeaderCellDef>
                  Price per night (&euro;)
                </th>
                <td mat-cell *matCellDef="let request">
                  {{ request.pricePerNight }}
                </td>
              </ng-container>

              <ng-container matColumnDef="securityDeposit">
                <th mat-header-cell *matHeaderCellDef>
                  Security deposit (&euro;)
                </th>
                <td mat-cell *matCellDef="let request">
                  {{ request.securityDeposit }}
                </td>
              </ng-container>

              <ng-container matColumnDef="clientEmail">
                <th mat-header-cell *matHeaderCellDef>Tenant</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.clientEmail }}
                </td>
              </ng-container>

              <ng-container matColumnDef="btnDetails">
                <th mat-header-cell *matHeaderCellDef>Details</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="details-btn"
                    matTooltip="Details"
                    (click)="requestDetails(request)"
                  >
                    Details
                  </button>
                </td>
              </ng-container>

              <ng-container matColumnDef="btnMessages">
                <th mat-header-cell *matHeaderCellDef>Messages</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="messages-btn"
                    matTooltip="Open message chat"
                    (click)="messages(request)"
                  >
                    Messages
                  </button>
                </td>
              </ng-container>

              <ng-container matColumnDef="btnPay">
                <th mat-header-cell *matHeaderCellDef>Pay</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="pay-btn"
                    matTooltip="Pay security deposit"
                    (click)="pay(request)"
                  >
                    Pay
                  </button>
                </td>
              </ng-container>

              <ng-container matColumnDef="btnCancel">
                <th mat-header-cell *matHeaderCellDef>Cancel</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="cancel-btn"
                    matTooltip="Cancel booking request"
                    (click)="cancel(request)"
                  >
                    Cancel
                  </button>
                </td>
              </ng-container>

              <tr
                mat-header-row
                *matHeaderRowDef="displayedColumnsReserved"
              ></tr>
              <tr
                mat-row
                *matRowDef="let row; columns: displayedColumnsReserved"
              ></tr>
            </table>
          </div>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <p>Paid</p>
          </ng-template>
          <div class="entity-div">
            <h5>List of your paid booking requests</h5>
            <table
              mat-table
              [dataSource]="dataSourcePaid"
              class="mat-elevation-z8"
            >
              <ng-container matColumnDef="location">
                <th mat-header-cell *matHeaderCellDef>Property location</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.address }}, {{ request.city }},
                  {{ request.country }}
                </td>
              </ng-container>

              <ng-container matColumnDef="bookingStart">
                <th mat-header-cell *matHeaderCellDef>Booking start</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.bookingStart }}
                </td>
              </ng-container>

              <ng-container matColumnDef="bookingEnd">
                <th mat-header-cell *matHeaderCellDef>Booking end</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.bookingEnd }}
                </td>
              </ng-container>

              <ng-container matColumnDef="pricePerNight">
                <th mat-header-cell *matHeaderCellDef>
                  Price per night (&euro;)
                </th>
                <td mat-cell *matCellDef="let request">
                  {{ request.pricePerNight }}
                </td>
              </ng-container>

              <ng-container matColumnDef="clientEmail">
                <th mat-header-cell *matHeaderCellDef>Tenant</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.clientEmail }}
                </td>
              </ng-container>

              <ng-container matColumnDef="btnDetails">
                <th mat-header-cell *matHeaderCellDef>Details</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="details-btn"
                    matTooltip="Details"
                    (click)="requestDetails(request)"
                  >
                    Details
                  </button>
                </td>
                <td mat-cell>
                  <button
                    mat-stroked-button
                    class="details-btn"
                    matTooltip="Details"
                  >
                    Details
                  </button>
                </td>
              </ng-container>

              <ng-container matColumnDef="btnFinish">
                <th mat-header-cell *matHeaderCellDef>Finish</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="finish-btn"
                    matTooltip="Finish renting"
                    (click)="finish(request)"
                  >
                    Finish renting
                  </button>
                </td>
                <td mat-cell>
                  <button
                    mat-stroked-button
                    class="finish-btn"
                    matTooltip="Finish renting"
                  >
                    Finish renting
                  </button>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumnsPaid"></tr>
              <tr
                mat-row
                *matRowDef="let row; columns: displayedColumnsPaid"
              ></tr>
            </table>
          </div>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <p>Finished</p>
          </ng-template>
          <div class="entity-div">
            <h5>List of your finished booking requests</h5>
            <table
              mat-table
              [dataSource]="dataSourceFinished"
              class="mat-elevation-z8"
            >
              <ng-container matColumnDef="location">
                <th mat-header-cell *matHeaderCellDef>Property location</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.address }}, {{ request.city }},
                  {{ request.country }}
                </td>
              </ng-container>

              <ng-container matColumnDef="bookingStart">
                <th mat-header-cell *matHeaderCellDef>Booking start</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.bookingStart }}
                </td>
              </ng-container>

              <ng-container matColumnDef="bookingEnd">
                <th mat-header-cell *matHeaderCellDef>Booking end</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.bookingEnd }}
                </td>
              </ng-container>

              <ng-container matColumnDef="clientEmail">
                <th mat-header-cell *matHeaderCellDef>Tenant</th>
                <td mat-cell *matCellDef="let request">
                  {{ request.clientEmail }}
                </td>
              </ng-container>

              <ng-container matColumnDef="btnDetails">
                <th mat-header-cell *matHeaderCellDef>Details</th>
                <td mat-cell *matCellDef="let request">
                  <button
                    mat-stroked-button
                    class="details-btn"
                    matTooltip="Details"
                    (click)="requestDetails(request)"
                  >
                    Details
                  </button>
                </td>
              </ng-container>

              <tr
                mat-header-row
                *matHeaderRowDef="displayedColumnsFinished"
              ></tr>
              <tr
                mat-row
                *matRowDef="let row; columns: displayedColumnsFinished"
              ></tr>
            </table>
          </div>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <p>Canceled</p>
          </ng-template>
          <div class="entity-div">
            <h5>List of your canceled booking requests</h5>
              <table mat-table [dataSource]="dataSourceCanceled" class="mat-elevation-z8">

              <ng-container matColumnDef="location">
                <th mat-header-cell *matHeaderCellDef>Property location</th>
                <td mat-cell *matCellDef="let request"> {{request.address}}, {{request.city}}, {{request.country}} </td>
              </ng-container>

              <ng-container matColumnDef="bookingStart">
                <th mat-header-cell *matHeaderCellDef>Booking start</th>
                <td mat-cell *matCellDef="let request"> {{request.bookingStart}} </td>
              </ng-container>

              <ng-container matColumnDef="bookingEnd">
                <th mat-header-cell *matHeaderCellDef>Booking end</th>
                <td mat-cell *matCellDef="let request"> {{request.bookingEnd}} </td>
              </ng-container>

              <ng-container matColumnDef="clientEmail">
                <th mat-header-cell *matHeaderCellDef>
                  {{ isLandlord == true ? "Tenant" : "Landlord" }}
                </th>
                <td mat-cell *matCellDef="let request"> {{request.clientEmail}} </td>
              </ng-container>

              <ng-container matColumnDef="btnDetails">
                <th mat-header-cell *matHeaderCellDef>Details</th>
                <td mat-cell *matCellDef="let request">
                                    <button mat-stroked-button class="details-btn" matTooltip="Details"
                                    (click)="requestDetails(request)">
                                        Details
                                    </button>
                                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumnsCanceled"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumnsCanceled"></tr>
            </table>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
