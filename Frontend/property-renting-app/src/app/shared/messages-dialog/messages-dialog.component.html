<div id="content-div" class="row">
    <div id="messages-div" class="col-sm-12">
        <div id="no-messages-div" class="row empty-message-div">
            <p id="no-messages-p" class="empty-message" *ngIf="noComments">No Comments</p>
        </div>
        <div id="list-messages-div" *ngIf="!noMessages">
            <div id="table-div">
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                    <ng-container matColumnDef="sender">
                        <th mat-header-cell *matHeaderCellDef> Sender </th>
                        <td mat-cell *matCellDef="let message"> {{message.senderName}} {{message.senderSurname}} </td>
                    </ng-container>

                    <ng-container matColumnDef="email">
                        <th mat-header-cell *matHeaderCellDef> Email </th>
                        <td mat-cell *matCellDef="let message"> {{message.senderEmail}} </td>
                    </ng-container>

                    <ng-container matColumnDef="content">
                        <th mat-header-cell *matHeaderCellDef> Content </th>
                        <td mat-cell *matCellDef="let message"> {{message.content}} </td>
                    </ng-container>

                    <ng-container matColumnDef="timestamp">
                        <th mat-header-cell *matHeaderCellDef> Timestamp </th>
                        <td mat-cell *matCellDef="let message"> {{message.timestamp}} </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
                    [ngClass]="{
                        'is-sender': row.sender === true,
                        'is-receiver': row.sender === false
                      }"
                    ></tr>
                </table>
            </div>
        </div>

        <div id="send-message-div" class="row">
            <div class="col-12">
                <div class="row">
                    <form [formGroup]="messageForm" class="col-11">
                        <mat-form-field id="message-field">
                            <textarea matInput id="message-textarea" placeholder="Type your message..."
                                formControlName="message">
                        </textarea>
                        </mat-form-field>
                    </form>
                    <div class="col-1">
                        <button mat-icon-button id="submit-message-btn" color="primary" type="submit" class="submit-button"
                        (click)="sendMessage()">
                        <mat-icon>send
                        </mat-icon>
                    </button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


